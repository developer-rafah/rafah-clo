<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ØªØ¨Ø±Ø¹ ÙØ§Ø¦Ø¶ Ø§Ù„Ù…Ù„Ø§Ø¨Ø³ | Ø¬Ù…Ø¹ÙŠØ© Ø±ÙØ§Ù‡</title>

<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

<style>
:root{
  --bg:#0e0b14;
  --bg2:#1a1326;
  --p:#7a5ea8;
  --s:#b88fcf;
  --txt:#f3f4f6;
  --muted:#b6b1c6;
  --wa:#25D366;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:"Tajawal",sans-serif;
  color:var(--txt);
  background:
    radial-gradient(700px 400px at 80% 20%, rgba(184,143,207,.16), transparent 60%),
    linear-gradient(180deg,var(--bg),var(--bg2));
}
.entry-popup{
  position:fixed; inset:0;
  display:flex;align-items:center;justify-content:center;
  background:rgba(0,0,0,.55);
  backdrop-filter:blur(8px);
  z-index:9999;
}
.entry-box{
  max-width:320px;
  padding:18px 22px;
  border-radius:18px;
  background:linear-gradient(135deg,var(--p),var(--s));
  font-size:16px;
  font-weight:800;
  text-align:center;
}
.wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px}
.card{
  width:min(1050px,100%);
  background:rgba(255,255,255,.05);
  border:1px solid rgba(255,255,255,.15);
  backdrop-filter:blur(14px);
  border-radius:30px;
  display:grid;
  grid-template-columns:1fr 1fr;
}
@media(max-width:900px){.card{grid-template-columns:1fr}}
.content{padding:40px;text-align:center}
.logo{max-width:170px;margin:0 auto 26px;display:block}
h1{font-size:36px;font-weight:900}
p{line-height:1.9}
.btn{
  margin-top:28px;
  padding:15px 28px;
  font-size:17px;
  font-weight:900;
  border:none;
  border-radius:999px;
  cursor:pointer;
  color:#fff;
  background:linear-gradient(135deg,var(--p),var(--s));
}
.visual{display:flex;align-items:center;justify-content:center}
.modal{
  position:fixed; inset:0;
  background:rgba(0,0,0,.6);
  display:none;
  align-items:center; justify-content:center;
  z-index:999;
}
.modal-box{
  width:min(420px,92%);
  background:rgba(255,255,255,.1);
  border-radius:22px;
  padding:24px;
}
input{
  width:100%;
  margin-top:12px;
  padding:13px;
  border-radius:14px;
  border:none;
  background:rgba(0,0,0,.35);
  color:#fff;
}
.submit{
  margin-top:14px;
  width:100%;
  padding:14px;
  border-radius:999px;
  border:none;
  font-weight:900;
  background:linear-gradient(135deg,var(--s),var(--p));
  color:#fff;
}
#map{width:100%;height:300px;border-radius:16px;margin-top:12px}
.map-hint{
  font-size:14px;
  font-weight:700;
  background:rgba(122,94,168,.9);
  padding:10px;
  border-radius:12px;
  text-align:center;
}
footer{text-align:center;font-size:12px;color:var(--muted);margin:20px}
</style>
</head>

<body>

<div class="entry-popup" id="entryPopup">
  <div class="entry-box">ÙØ§Ø¦Ø¶Ùƒ Ø§Ù„ÙŠÙˆÙ…â€¦ Ø³ØªØ±ÙŒ ÙˆØ¯ÙØ¡ Ù„ØºÙŠØ±Ùƒ ğŸ¤</div>
</div>

<div class="wrap">
  <div class="card">
    <div class="content">
      <img src="https://i.ibb.co/hJdgK2MB/2.png" class="logo">
      <h1>ØªØ¨Ø±Ø¹ ÙØ§Ø¦Ø¶ Ø§Ù„Ù…Ù„Ø§Ø¨Ø³</h1>
      <p>ØªØ¨Ø±Ø¹Ùƒ ÙŠØ³Ù‡Ù… ÙÙŠ Ø³ØªØ± Ø§Ù„Ø£Ø³Ø± Ø§Ù„Ù…Ø­ØªØ§Ø¬Ø© ÙˆÙŠØ¹Ø²Ø² Ø§Ù„ØªÙƒØ§ÙÙ„ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ÙŠ.</p>
      <button class="btn" onclick="openForm()">ØªØ¨Ø±Ø¹ Ø§Ù„Ø¢Ù†</button>
    </div>
    <div class="visual"></div>
  </div>
</div>

<!-- Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ -->
<div class="modal" id="formModal">
  <div class="modal-box" id="formBox">

    <form method="POST"
      action="https://script.google.com/macros/s/AKfycbzjOaXbtkhwzYcrlbi40xGXwZoFLFlVGd-5TZho5Fis_Ttxye2whM3odU-y-BMI-L9w/exec"
      target="hidden_iframe"
      onsubmit="afterSubmit()">

      <input name="name" placeholder="Ø§Ù„Ø§Ø³Ù…" required>
      <input name="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„" required>
      <input name="area" placeholder="Ø§Ù„Ø­ÙŠ" required>

      <input type="hidden" name="lat" id="latField">
      <input type="hidden" name="lng" id="lngField">
      <input type="hidden" name="source" value="Ø§Ù„Ù…ÙˆÙ‚Ø¹">

      <button type="button" class="submit" onclick="openMap()">ğŸ“ ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</button>
      <div id="locationStatus"></div>

      <button type="submit" class="submit">Ø¥Ø±Ø³Ø§Ù„</button>
    </form>

    <iframe name="hidden_iframe" style="display:none;"></iframe>

  </div>
</div>

<!-- Ø§Ù„Ø®Ø±ÙŠØ·Ø© -->
<div class="modal" id="mapModal">
  <div class="modal-box">
    <div class="map-hint">Ø­Ø±Ù‘Ùƒ Ø§Ù„Ø¯Ø¨ÙˆØ³ ÙˆØ­Ø¯Ø¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„ØµØ­ÙŠØ­</div>
    <div id="map"></div>
    <button class="submit" onclick="confirmLocation()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹</button>
  </div>
</div>

<footer>Â© 2025 Ø¬Ù…Ø¹ÙŠØ© Ø±ÙØ§Ù‡ Ù„Ù„Ø£Ø±Ø§Ù…Ù„ ÙˆØ§Ù„Ù…Ø·Ù„Ù‚Ø§Øª</footer>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
setTimeout(()=>document.getElementById("entryPopup").style.display="none",2000);

function openForm(){
  document.getElementById("formModal").style.display="flex";
}

let map, marker;

function openMap(){
  document.getElementById("mapModal").style.display="flex";
  setTimeout(()=>{
    if(map) return;
    map = L.map('map').setView([24.7136,46.6753],13);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);
    marker = L.marker(map.getCenter(),{draggable:true}).addTo(map);
  },200);
}

function confirmLocation(){
  const p = marker.getLatLng();
  document.getElementById("latField").value = p.lat;
  document.getElementById("lngField").value = p.lng;
  document.getElementById("locationStatus").innerHTML = "âœ”ï¸ ØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¨Ø¯Ù‚Ø©";
  document.getElementById("mapModal").style.display="none";
}

function afterSubmit(){
  setTimeout(()=>{
    document.getElementById("formBox").innerHTML =
      "ğŸŒ· Ø¬Ø²Ø§Ùƒ Ø§Ù„Ù„Ù‡ Ø®ÙŠØ±Ù‹Ø§<br>ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨Ùƒ ÙˆØ³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù‚Ø±ÙŠØ¨Ù‹Ø§ Ø¨Ø¥Ø°Ù† Ø§Ù„Ù„Ù‡.";
  },700);
}
</script>

</body>
</html>
